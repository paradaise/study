Packet Tracer. Обеспечение безопасности на 2-м уровне

После атак на сеть нужно было защитить коммутаторы на канальном уровне (L2) тремя способами:

- Контроль STP - сделать Central главным коммутатором

- Защита от атак на STP - заблокировать попытки подделать топологию

- Защита от переполнения CAM-таблицы - ограничить количество MAC-адресов на портах



Что мы сделали:
1. Настройка корневого моста

Назначили Central главным корневым мостом
Назначили SW-1 резервным корневым мостом

Результат: Предсказуемая и оптимальная топология сети, так как до этого случайный 

2. Защита STP
- PortFast на портах к компьютерам - ускорили подключение устройств ( убирает задержку на ПК для проверки в 30 секунд, порт включается сразу)
- BPDU Guard на тех же портах - блокировка при получении STP-пакетов( STP-метка, проверяющая устройство, если порт получил STP-пакет, значит был подключен не ПК, а коммутатор (возможно, хакерский)! И он мгновенно отключается.

- Root Guard на портах между коммутаторами - защита от захвата роли корневого моста,технология постоянно слушает, нет ли попытки получить приоритет выше чем у текущего назначенного корня(Central)

3. Защита портов. Port Security на портах к компьютерам:

- Максимум 2 MAC-адреса на порт
- При нарушении - shutdown
- Отключили неиспользуемые порты

Команды для проверки:
# Проверим корневой мост
Central# show spanning-tree

# Проверим безопасность портов
SW-A# show port-security interface f0/1

# Проверить отключенные порты
SW-A# show ip interface brief