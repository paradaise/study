В рамках работы настроили Port Security на коммутатре S1 для двух портов Fa0/1 и Аa0/2, работает по принципу занесения в список доверенных устройств, первому устройству которое подключилось к порту, на основе МАК-адреса, то есть по факту обходится ARM-спуфингом с целью подмены MAC-адреса, что я покажу далее.

Проверка выполнения задания:

1) Проверка Port Security на S1

На S1 в en-моде:
show-port security
show port-security address

Видим, что порты Fa0/1 и Fa0/2 защищены, каждый запомнил и доверяет по одному MAC-адресу

2) Проверка доступности хостов через ping с PC1->PC2 и наоборот

ping 10.10.10.10
ping 10.10.10.11


3) Подключил внешнее устройство на порт Fa0/3 к коммутатору, т.к. мы отключили на S1 все порты кроме 1-2, то трафик с PC3 не идет

4) На коммутаторе S1 включаем порт Fa0/3

Switch>enable
Switch#configure terminal
Switch(config)#interface fastethernet 0/3
Switch(config-if)#no shutdown
Switch(config-if)#end

Проверяем доступность узлов сети c PC3:

ping 10.10.10.10
ping 10.10.10.11

Трафик пошел

Отключаем интерфейс Fa0/3

Switch#configure terminal
Switch(config)#interface fastethernet 0/3
Switch(config-if)#shutdown
Switch(config-if)#end

5)Проверка с "подменой" устройства

Что делаем: Отключаем PC2 и подключаем PC3 на его место (порт Fa0/2).

С PC 3:
ping 10.10.10.10    
ping 10.10.10.2
  

Видим, что пакеты не доходят, S1 их блокирует, так как MAC-адрес устройства PC-3 не совпадает с тем, что сохранен в Port Security таблицы для интерфейса.

Чтобы убедиться в этом смотрим:
en
Switch#show port-security interface fastethernet 0/1

И смотрим последние 2 поля.

6) Однако если мы оставим PC3 на порту Fa0/2(который проверяется) и  я в настройках PC2 заберу его MAC адрес и присвою его PC3, то Port Security его успешно примит и PC3 будет иметь доступ к общению в сети.